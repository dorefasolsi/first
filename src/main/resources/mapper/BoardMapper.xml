<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.mira.first.mapper.BoardMapper">
		<resultMap id="MemberResultSet" type="Member">
		<result column="mid" property="mid" />
		<result column="mpw" property="mpw" />
		<result column="mname" property="mname" />
	</resultMap>
	
	<resultMap id="BoardResultSet" type="Board">	
		<result column="bno" property="bno" />
		<result column="btitle" property="btitle" />
		<result column="bcontent" property="bcontent" />
		<result column="bdate" property="bdate" />
		<result column="mid" property="mid" />
	</resultMap>
	
		<!-- 게시글 전체 조회 -->
	<select id="boardList" resultMap="BoardResultSet" parameterType="board">

 		select * 
			from BOARD
			order by bno desc

	</select>

	<!-- 게시글 작성 -->
	<insert id="insertBoard" parameterType="board">

		insert into BOARD(
			BTITLE
			, BCONTENT
			, MID
		) values (
			#{btitle}
			, #{bcontent}
			, #{mid}
		)

	</insert>
	
	<!-- 게시글 상세조회 -->
	<select id="detailBoard" resultMap="BoardResultSet" parameterType="board">

		select * 
			from BOARD
			where BNO = #{bno};

	</select>
	
	
	<!-- 게시글 삭제 -->
	<delete id="deleteBoard" parameterType="board">
		delete 
			from BOARD
			where BNO = #{bno};
	
	</delete>
	
	<!-- 게시글 수정 -->
	<update id="updateBoard" parameterType="board">

		update BOARD
			set
				BTITLE = #{btitle}
				, BCONTENT = #{bcontent}
			where 
				BNO = #{bno};
				
	</update>
	
</mapper>